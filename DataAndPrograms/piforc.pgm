* This program generates the table in the QJE paper comparing the* inflation forecasts from the Michigan survey and the SPF** It also calculates the mean squared errors of the two forecasts* that are reported in the textend clear memorycal 1959 1 4allocate 2010:4open data complex_q.ratdata(for=rat)clear AfterSPFStartssmpl 1981:3 2001:4set AfterSPFStarts = 1   ;* Dummy variable equal to one for the time frame over which SPF data exist* Calculate mean squared errors for SPF and Michigan forecastsset msemic = (adlcor_tp4 - adlcpimica)**2set msespf = (adlcor_tp4 - adlcpispfa)**2statistics msemicstatistics msespfgraph 3# adlcor_tp4 # adlcpimica# adlcpispfagraph 3# adadlcor_tp4# adadlcormica# adadlcorspfacompute maketable = 1* Regress the actual core inflation rate on the expected rate from 4 quarters* quarters earlier and the realized past inflation ratecompute NeweyWestLags = fix(4.0*((160.0/100.0)**(2./9.)))compute NeweyWestLags = 4linreg(robusterrors,lags=NeweyWestLags,damp=1) adlcor_tp4 # constant adlcor{1} adlcpimica if maketable == 1  source(noecho) piforc_start.pgm  source(noecho) piforc_resultsmic.pgm  change output screenend iflinreg(robusterrors,lags=NeweyWestLags,damp=1) adlcor_tp4# constant adlcor{1} adlcpispfa if maketable == 1  change output fileio  source(noecho) piforc_resultsspf.pgm  change output screenend iflinreg(robusterrors,lags=NeweyWestLags,damp=1) adlcor_tp4# constant adlcor{1} adlcpimica adlcpispfa if maketable == 1  change output fileio  source(noecho) piforc_resultsmicspf.pgm  change output screenend if* Results: Both survey measures are highly statistically significant, even* with lagged inflation included.  Furthermore, SPF is much more significant.* Horserace regression finds Michigan survey is insignificant, SPF highly significant* Note that SPF wins even though Michigan has a slight advantage from the fact that* the cutoff for SPF forecasts is typically around midmonth, while half of the * Michigan guys get to make their 'forecast' after that* A text footnote points out that including four lags of the quarterly * inflation rate might be more appropriate from a technical point of view.* The results below show that the same conclusions emerge from this exercise* as frome the simpler one with the annual inflation ratelinreg(robusterrors,lags=NeweyWestLags,damp=1) adlcor_tp4 # constant adlcpimica qdlcor{1 to 4}summarize# qdlcor{1 to 4}linreg(robusterrors,lags=NeweyWestLags,damp=1) adlcor_tp4# constant adlcpispfa qdlcor{1 to 4}summarize# qdlcor{1 to 4}linreg(robusterrors,lags=NeweyWestLags,damp=1) adlcor_tp4# constant adlcpimica adlcpispfa qdlcor{1 to 4}summarize# qdlcor{1 to 4}* Show that the same results hold for the CPIlinreg(robusterrors,lags=NeweyWestLags,damp=1) adlcpi_tp4 # constant adlcpimica adlcpi{1}linreg(robusterrors,lags=NeweyWestLags,damp=1) adlcpi_tp4# constant adlcpispfa adlcpi{1}linreg(robusterrors,lags=NeweyWestLags,damp=1) adlcpi_tp4# constant adlcpimica adlcpispfa adlcpi{1}linreg(robusterrors,lags=NeweyWestLags,damp=1) adlcpi_tp4 # constant adlcpimica qdlcpi{1 to 4}summarize# qdlcpi{1 to 4}linreg(robusterrors,lags=NeweyWestLags,damp=1) adlcpi_tp4# constant adlcpispfa qdlcpi{1 to 4}summarize# qdlcpi{1 to 4}linreg(robusterrors,lags=NeweyWestLags,damp=1) adlcpi_tp4# constant adlcpimica adlcpispfa qdlcpi{1 to 4}summarize# qdlcpi{1 to 4}* Now regress actual change in inflation on predicted change* Start with inflation over the next year minus annual rate inflation last qtrcompute makelongtable = 0set adlcortp4Mqdlcortm1 = adlcor_tp4 -qdlcor{1}set adlcpimicaMqdlcortm1 = adlcpimica-qdlcor{1}set adlcpispfaMqdlcortm1 = adlcpispfa-qdlcor{1}linreg(robusterrors,lags=NeweyWestLags,damp=1) adlcortp4Mqdlcortm1# constant adlcpimicaMqdlcortm1if makelongtable == 1  change output fileio  source(noecho) piforcd_start.pgm  source(noecho) piforcd_resultsmic.pgm  change output screenend iflinreg(robusterrors,lags=NeweyWestLags,damp=1) adlcortp4Mqdlcortm1# constant adlcpispfaMqdlcortm1if makelongtable == 1  change output fileio  source(noecho) piforcd_resultsspf.pgm  change output screenend iflinreg(robusterrors,lags=NeweyWestLags,damp=1) adlcortp4Mqdlcortm1# constant adlcpimicaMqdlcortm1 adlcpispfaMqdlcortm1if makelongtable == 1  change output fileio  source(noecho) piforcd_resultsmicspf.pgm  change output screenend if* Both of the individual measures of the change in inflation are statistically sig,* and as usual the SPF measure is the only one that is significant when both are * included in the regression* Now do it for cpi set adlcpitp4Mqdlcpitm1  = adlcpi_tp4 - qdlcpi{1}set adlcpimicaMqdlcpitm1 = adlcpimica-qdlcpi{1}set adlcpispfaMqdlcpitm1 = adlcpispfa-qdlcpi{1}linreg(robusterrors,lags=NeweyWestLags,damp=1) adlcpitp4Mqdlcpitm1# constant adlcpimicaMqdlcpitm1linreg(robusterrors,lags=NeweyWestLags,damp=1) adlcpitp4Mqdlcpitm1# constant adlcpispfaMqdlcpitm1linreg(robusterrors,lags=NeweyWestLags,damp=1) adlcpitp4Mqdlcpitm1# constant adlcpimicaMqdlcpitm1 adlcpispfaMqdlcpitm1* Now do regressions that subtract off the most recent ANNUAL inflation rate * rather than quarter t-1's inflation rateset adlcortp4Madlcor = adlcor_tp4 -adlcor{1}set adlcpimicaMadlcor = adlcpimica-adlcor{1}set adlcpispfaMadlcor = adlcpispfa-adlcor{1}linreg(robusterrors,lags=NeweyWestLags,damp=1) adlcortp4Madlcor# constant adlcpimicaMadlcorif 0 == 1  change output fileio  source(noecho) piforcad_start.pgm  source(noecho) piforcd_resultsmic.pgm  change output screenend iflinreg(robusterrors,lags=NeweyWestLags,damp=1) adlcortp4Madlcor# constant adlcpispfaMadlcorif 0 == 1  change output fileio  source(noecho) piforcd_resultsspf.pgm  change output screenend iflinreg(robusterrors,lags=NeweyWestLags,damp=1) adlcortp4Madlcor# constant adlcpimicaMadlcor adlcpispfaMadlcorif 0 == 1  change output fileio  source(noecho) piforcd_resultsmicspf.pgm  change output screenend ifif maketable == 1  change output fileio  source(noecho) piforc_end.pgm  change output screenend if* Results are similar; both measures are highly statistically sig,* but in the horserace regression only the SPF retains significance* Now try same thing for CPIset adlcpitp4Madlcpi = adlcpi_tp4 -adlcpi{1}set adlcpimicaMadlcpi = adlcpimica-adlcpi{1}set adlcpispfaMadlcpi = adlcpispfa-adlcpi{1}linreg(robusterrors,lags=NeweyWestLags,damp=1) adlcpitp4Madlcpi# constant adlcpimicaMadlcpilinreg(robusterrors,lags=NeweyWestLags,damp=1) adlcpitp4Madlcpi# constant adlcpispfaMadlcpilinreg(robusterrors,lags=NeweyWestLags,damp=1) adlcpitp4Madlcpi# constant adlcpimicaMadlcpi adlcpispfaMadlcpi* Could SPF forecasts of Delta pi be improved by adding already-known Michigan info?linreg(robusterrors,lags=NeweyWestLags,damp=1) adadlcor_tp4# constant adadlcormica{1} adadlcorspfa* Nope (in the months where there is a new SPF forecast)